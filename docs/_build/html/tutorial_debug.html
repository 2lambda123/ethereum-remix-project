

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Debugging transactions &mdash; Remix, Ethereum-IDE 1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Remix, Ethereum-IDE
          

          
          </a>

          
            
            
              <div class="version">
                1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">New Layout Intro</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="layout.html">Remix-IDE Layout</a></li>
</ul>
<p class="caption"><span class="caption-text">Tour of default modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="file_explorer.html">File Explorer</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin_manager.html">Plugin Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="solidity_editor.html">Solidity Editor</a></li>
<li class="toctree-l1"><a class="reference internal" href="terminal.html">Terminal</a></li>
</ul>
<p class="caption"><span class="caption-text">Tour of typical solidity modules</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="compile.html">Compiler (Solidity)</a></li>
<li class="toctree-l1"><a class="reference internal" href="run.html">Run &amp; Deploy</a></li>
<li class="toctree-l1"><a class="reference internal" href="udapp.html">Run &amp; Deploy (part 2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugger.html">Debugger</a></li>
<li class="toctree-l1"><a class="reference internal" href="static_analysis.html">Analysis</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Remix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contract_metadata.html">Build Artifact</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_deploy.html">Creating and Deploying a Contract</a></li>
<li class="toctree-l1"><a class="reference internal" href="import.html">Importing Source Files in Solidity</a></li>
<li class="toctree-l1"><a class="reference internal" href="remixd.html">Remixd: Get access your local filesystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="unittesting.html">Unit Testing</a></li>
</ul>
<p class="caption"><span class="caption-text">Building Plugins</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="remix_plugin.html">Remix Plugin</a></li>
</ul>
<p class="caption"><span class="caption-text">URLs &amp; Downloads</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="locations.html">Finding Remix</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials and workshops slides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="remix_tutorials_github.html">Remix Tutorials</a></li>
</ul>
<p class="caption"><span class="caption-text">Code contribution guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code_contribution_guide.html">Code contribution guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="community.html">Community</a></li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Support chat</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Remix, Ethereum-IDE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Debugging transactions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tutorial_debug.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="debugging-transactions">
<h1>Debugging transactions<a class="headerlink" href="#debugging-transactions" title="Permalink to this headline">¶</a></h1>
<p>There are two ways to start debugging, each one corresponds to a different use case.</p>
<ul class="simple">
<li><p>from the transaction log in the Terminal - use this when you want to debug a transaction.</p></li>
<li><p>from the Debugger - use this if you have a <em>transaction hash</em>.</p></li>
</ul>
<div class="section" id="initiate-debugging-from-the-transaction-log-in-the-terminal">
<h2>Initiate Debugging from the transaction log in the Terminal<a class="headerlink" href="#initiate-debugging-from-the-transaction-log-in-the-terminal" title="Permalink to this headline">¶</a></h2>
<p>Let’s start with a basic contract ( or replace this one by your own ) :</p>
<ul class="simple">
<li><p>create a blank file in the file explorer (by clicking the + icon) and give it a name.</p></li>
<li><p>copy the code below.</p></li>
<li><p>compile the code.</p></li>
<li><p>click the Run &amp; Deploy icon in the icon panel.</p></li>
</ul>
<div class="highlight-JavaScript notranslate"><div class="highlight"><pre><span></span><span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">&gt;=</span><span class="mf">0.5.1</span> <span class="o">&lt;</span><span class="mf">0.6.0</span><span class="p">;</span>
<span class="nx">contract</span> <span class="nx">Donation</span> <span class="p">{</span>
    <span class="nx">address</span> <span class="nx">owner</span><span class="p">;</span>
    <span class="nx">event</span> <span class="nx">fundMoved</span><span class="p">(</span><span class="nx">address</span> <span class="nx">_to</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">_amount</span><span class="p">);</span>
    <span class="nx">modifier</span> <span class="nx">onlyowner</span> <span class="p">{</span> <span class="k">if</span> <span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span> <span class="o">==</span> <span class="nx">owner</span><span class="p">)</span> <span class="nx">_</span><span class="p">;</span> <span class="p">}</span>
    <span class="nx">address</span><span class="p">[]</span> <span class="nx">_giver</span><span class="p">;</span>
    <span class="nx">uint</span><span class="p">[]</span> <span class="nx">_values</span><span class="p">;</span>

    <span class="nx">constructor</span><span class="p">()</span> <span class="kr">public</span> <span class="p">{</span>
        <span class="nx">owner</span> <span class="o">=</span> <span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">donate</span><span class="p">()</span> <span class="nx">payable</span>  <span class="kr">public</span> <span class="p">{</span>
        <span class="nx">addGiver</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">moveFund</span><span class="p">(</span><span class="nx">address</span> <span class="nx">payable</span> <span class="nx">_to</span><span class="p">,</span> <span class="nx">uint</span> <span class="nx">_amount</span><span class="p">)</span> <span class="nx">onlyowner</span>  <span class="kr">public</span> <span class="p">{</span>
        <span class="nx">uint</span> <span class="nx">balance</span> <span class="o">=</span> <span class="nx">address</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">balance</span><span class="p">;</span>
        <span class="nx">uint</span> <span class="nx">amount</span> <span class="o">=</span> <span class="nx">_amount</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">_amount</span> <span class="o">&lt;=</span> <span class="nx">balance</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">_to</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">balance</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">emit</span> <span class="nx">fundMoved</span><span class="p">(</span><span class="nx">_to</span><span class="p">,</span> <span class="nx">_amount</span><span class="p">);</span>    
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
               <span class="nx">revert</span><span class="p">();</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">revert</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="kd">function</span> <span class="nx">addGiver</span><span class="p">(</span><span class="nx">uint</span> <span class="nx">_amount</span><span class="p">)</span> <span class="nx">internal</span> <span class="p">{</span>
        <span class="nx">_giver</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">msg</span><span class="p">.</span><span class="nx">sender</span><span class="p">);</span>
        <span class="nx">_values</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">_amount</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For the purpose of this tutorial, we will run the <code class="docutils literal notranslate"><span class="pre">JavaScript</span> <span class="pre">VM</span></code>.
This simulates a custom blockchain. You could do the same using a proper backend node.</p>
<p>Let’s deploy the contract:</p>
<p>Click the <code class="docutils literal notranslate"><span class="pre">Deploy</span></code> button</p>
<p><img alt="_images/a-debug1-deploy.png" src="_images/a-debug1-deploy.png" /></p>
<p>You’ll see the deployed instance (AKA the udapp).</p>
<p><img alt="_images/a-debug2-udapp1a.png" src="_images/a-debug2-udapp1a.png" /></p>
<p>Then open it up (by clicking the caret).</p>
<p><img alt="_images/a-debug3-udapp2.png" src="_images/a-debug3-udapp2.png" /></p>
<p>We are going to call the <code class="docutils literal notranslate"><span class="pre">Donate</span></code> function and will send it ether.</p>
<p>To do this: in the value input box put in <strong>2</strong> and select Ether as the unit (and not wei like I did in the image below - well you could - it won’t really change anything).</p>
<p><img alt="_images/a-debug4-value-loc.png" src="_images/a-debug4-value-loc.png" /></p>
<p>Then click the <code class="docutils literal notranslate"><span class="pre">Donate</span></code> button.</p>
<p>This will send Ether to the this function.</p>
<p>Because we are using the <code class="docutils literal notranslate"><span class="pre">JavaScript</span> <span class="pre">VM</span></code>, everything happens almost instantly.  (If we had been using Injected Web 3, then we would have to need to approve the transaction, pay for gas and wait for the transaction to get mined.)</p>
<p>Remix displays information related to each transaction result in the terminal.</p>
<p>Check in the <strong>terminal</strong> where the transaction you just made is logged.</p>
<p>Click the debug button to start debugging it.</p>
<p><img alt="_images/a-debug5-term-debug-but.png" src="_images/a-debug5-term-debug-but.png" /></p>
<p>Before we get to the actual debugging tool, the next section show how to start debugging session directly from the Debugger.</p>
</div>
<div class="section" id="initiate-debugging-from-the-from-the-debugger">
<h2>Initiate Debugging from the from the Debugger<a class="headerlink" href="#initiate-debugging-from-the-from-the-debugger" title="Permalink to this headline">¶</a></h2>
<p>Click the bug icon in the icon panel to get to the debugger in the side panel.</p>
<p>If you don’t see the bug icon, go to the plugin manager and activate the debugger.</p>
<p>You can start a debug session by providing a <code class="docutils literal notranslate"><span class="pre">transaction</span> <span class="pre">hash</span></code>.</p>
<p>To find a transaction hash:</p>
<ol class="simple">
<li><p>Go to a transaction in the terminal.</p></li>
<li><p>Click a line with a transaction - to exand the log.</p></li>
<li><p>The transaction hash is there - copy it.</p></li>
</ol>
<p><img alt="_images/a-debug6-term-txn-hash.png" src="_images/a-debug6-term-txn-hash.png" /></p>
<p>Then click in the debugger paste the hash and click on the <code class="docutils literal notranslate"><span class="pre">Start</span> <span class="pre">debugging</span></code> button.</p>
<p><img alt="_images/a-debug7-debugger.png" src="_images/a-debug7-debugger.png" /></p>
</div>
<div class="section" id="using-the-debugger">
<h2>Using the debugger<a class="headerlink" href="#using-the-debugger" title="Permalink to this headline">¶</a></h2>
<p><img alt="_images/a-debug8-top3.png" src="_images/a-debug8-top3.png" /></p>
<p>The debugger allows one to see detailed informations about the
transaction’s execution. It uses the editor to display the
location in the source code where the current execution is.</p>
<p>The navigation part contains a slider and buttons that can be used to
step through the transaction execution.</p>
<div class="section" id="more-explaination-of-what-these-buttons-do">
<h3>More explaination of what these buttons do.<a class="headerlink" href="#more-explaination-of-what-these-buttons-do" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>Step Into</p></li>
<li><p>Step Over Into</p></li>
</ol>
<p>11 panels give detailed information about the execution:</p>
</div>
<div class="section" id="instructions">
<h3>Instructions<a class="headerlink" href="#instructions" title="Permalink to this headline">¶</a></h3>
<p>The Instructions panel displays the bytecode of the current executing
contract- with the current step highlighted.</p>
<p>Important note: When this panel is hidden, the slider will have a
courser granularity and only stop at <em>expression boundaries</em>, even if they
are compiled into multiple EVM instructions. When the panel is
displayed, it will be possible to step over every instruction, even
those that refers to the same expression.</p>
</div>
<div class="section" id="solidity-locals">
<h3>Solidity Locals<a class="headerlink" href="#solidity-locals" title="Permalink to this headline">¶</a></h3>
<p>The Solidity Locals panel displays local variables associated with the
current context.</p>
</div>
<div class="section" id="solidity-state">
<h3>Solidity State<a class="headerlink" href="#solidity-state" title="Permalink to this headline">¶</a></h3>
<p>The Solidity State panel displays state variables of the current
executing contract.</p>
</div>
<div class="section" id="low-level-panels">
<h3>Low level panels<a class="headerlink" href="#low-level-panels" title="Permalink to this headline">¶</a></h3>
<p>These panels display low level informations about the execution:</p>
<blockquote>
<div><ul class="simple">
<li><p>Stack</p></li>
<li><p>Storages Changes</p></li>
<li><p>Memory</p></li>
<li><p>Call Data</p></li>
<li><p>Call Stack</p></li>
<li><p>Return Value (only if the current step is a RETURN opcode)</p></li>
<li><p>Full Storages Changes (only at the end of the execution - display
every storage change of every modified contract)</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="reverted-transaction">
<h3>Reverted Transaction<a class="headerlink" href="#reverted-transaction" title="Permalink to this headline">¶</a></h3>
<p>A transaction can be <code class="docutils literal notranslate"><span class="pre">reverted</span></code> (because of an <em>out of gas exception</em> or
Solidity <code class="docutils literal notranslate"><span class="pre">revert</span></code> statement or because of a low level exception).</p>
<p>It is important to be aware of the exception and to locate
where the exception is in the source code.</p>
<p>Remix will warn you when the execution throws an exception. The
<code class="docutils literal notranslate"><span class="pre">warning</span></code> button will jump to the last opcode before the exception
happened.</p>
</div>
<div class="section" id="breakpoints">
<h3>Breakpoints<a class="headerlink" href="#breakpoints" title="Permalink to this headline">¶</a></h3>
<p>The two last buttons from the navigation area are used to jump either
back to the previous breakpoint or forward to the next breakpoint.</p>
<p>Breakpoints can be added and removed by clicking on the line number in the <em>Editor</em>.</p>
<p>When using debug session with breakpoints, the execution will jump to the first
encountered breakpoint.</p>
<p><strong>Important note:</strong> If you add a breakpoint to a line that declares a
variable, it might be triggered twice: Once for initializing the
variable to zero and second time for assigning the actual value. As an
example, assume you are debugging the following contract:</p>
<div class="highlight-JavaScript notranslate"><div class="highlight"><pre><span></span><span class="nx">pragma</span> <span class="nx">solidity</span> <span class="o">&gt;=</span><span class="mf">0.5.1</span> <span class="o">&lt;</span><span class="mf">0.6.0</span><span class="p">;</span>

<span class="nx">contract</span> <span class="nx">ctr</span> <span class="p">{</span>
    <span class="kd">function</span> <span class="nx">hid</span> <span class="p">()</span> <span class="kr">public</span> <span class="p">{</span>
        <span class="nx">uint</span> <span class="nx">p</span> <span class="o">=</span> <span class="mi">45</span><span class="p">;</span>
        <span class="nx">uint</span> <span class="nx">m</span><span class="p">;</span>
        <span class="nx">m</span> <span class="o">=</span> <span class="mi">89</span><span class="p">;</span>
        <span class="nx">uint</span> <span class="nx">l</span> <span class="o">=</span> <span class="mi">34</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>And let’s says that breakpoints are set for the lines</p>
<p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">p</span> <span class="pre">=</span> <span class="pre">45;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">89;</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">l</span> <span class="pre">=</span> <span class="pre">34;</span></code></p>
<p>then clicking on <code class="docutils literal notranslate"><span class="pre">Jump</span> <span class="pre">to</span> <span class="pre">next</span> <span class="pre">breakpoint</span></code> will stop at the following
lines in the given order:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">p</span> <span class="pre">=</span> <span class="pre">45;</span></code> (declaration of p)</p>
<p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">l</span> <span class="pre">=</span> <span class="pre">34;</span></code> (declaration of l)</p>
<p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">p</span> <span class="pre">=</span> <span class="pre">45;</span></code> (45 assigned to p)</p>
<p><code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">=</span> <span class="pre">89;</span></code> (89 assigned to m)</p>
<p><code class="docutils literal notranslate"><span class="pre">uint</span> <span class="pre">l</span> <span class="pre">=</span> <span class="pre">34;</span></code> (34 assigned to l)</p>
</div></blockquote>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Remix

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>